# ğŸ“š EbookWebsite - Website Äá»c Truyá»‡n Online

Má»™t website Ä‘á»c truyá»‡n online hoÃ n chá»‰nh Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Java Web vá»›i kiáº¿n trÃºc MVC, há»— trá»£ Ä‘á»c truyá»‡n, quáº£n lÃ½ ngÆ°á»i dÃ¹ng, vÃ  há»‡ thá»‘ng premium.

## ğŸš€ TÃ­nh NÄƒng ChÃ­nh

### ğŸ‘¥ Quáº£n LÃ½ NgÆ°á»i DÃ¹ng
- âœ… ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, Ä‘Äƒng xuáº¥t
- âœ… Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n
- âœ… QuÃªn máº­t kháº©u vÃ  Ä‘áº·t láº¡i máº­t kháº©u
- âœ… PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng (User/Admin)

### ğŸ“– Quáº£n LÃ½ Truyá»‡n
- âœ… Xem danh sÃ¡ch truyá»‡n vá»›i phÃ¢n trang
- âœ… TÃ¬m kiáº¿m vÃ  lá»c truyá»‡n
- âœ… Xem chi tiáº¿t truyá»‡n
- âœ… Äá»c truyá»‡n theo chÆ°Æ¡ng
- âœ… Há»‡ thá»‘ng Volume vÃ  Chapter
- âœ… Quáº£n lÃ½ tÃ¡c giáº£ vÃ  tag

### ğŸ’¬ TÆ°Æ¡ng TÃ¡c
- âœ… BÃ¬nh luáº­n truyá»‡n
- âœ… YÃªu thÃ­ch truyá»‡n
- âœ… Theo dÃµi tiáº¿n Ä‘á»™ Ä‘á»c

### ğŸ’ Há»‡ Thá»‘ng Premium
- âœ… Truyá»‡n premium cÃ³ phÃ­
- âœ… Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
- âœ… Há»‡ thá»‘ng thanh toÃ¡n

### ğŸ”§ Admin Dashboard
- âœ… Quáº£n lÃ½ truyá»‡n (CRUD)
- âœ… Quáº£n lÃ½ tag
- âœ… Thá»‘ng kÃª vÃ  bÃ¡o cÃ¡o
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend
- **Java 17** - NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh
- **Jakarta EE 10** - Enterprise Java
- **Servlets & JSP** - Web framework
- **Maven** - Build tool vÃ  dependency management

### Database
- **Microsoft SQL Server** - Há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u
- **JDBC** - Káº¿t ná»‘i database

### Frontend
- **HTML5, CSS3, JavaScript** - Frontend cÆ¡ báº£n
- **Bootstrap 5** - UI framework
- **Font Awesome** - Icon library
- **JSTL** - JSP Standard Tag Library

### DevOps
- **Docker** - Containerization
- **Docker Compose** - Multi-container orchestration
- **Nginx** - Reverse proxy vÃ  load balancing
- **Maven** - Build automation

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
EbookWebsite/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/mycompany/ebookwebsite/
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/          # Servlets
â”‚   â”‚   â”‚   â”œâ”€â”€ dao/                 # Data Access Objects
â”‚   â”‚   â”‚   â”œâ”€â”€ model/               # Entity classes
â”‚   â”‚   â”‚   â”œâ”€â”€ service/             # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ filter/              # Servlet filters
â”‚   â”‚   â”‚   â”œâ”€â”€ listener/            # Context listeners
â”‚   â”‚   â”‚   â””â”€â”€ utils/               # Utility classes
â”‚   â”‚   â”œâ”€â”€ resources/
â”‚   â”‚   â”‚   â””â”€â”€ META-INF/
â”‚   â”‚   â””â”€â”€ webapp/
â”‚   â”‚       â”œâ”€â”€ admin/               # Admin pages
â”‚   â”‚       â”œâ”€â”€ book/                # Book pages
â”‚   â”‚       â”œâ”€â”€ common/              # Shared components
â”‚   â”‚       â”œâ”€â”€ content/             # Static content
â”‚   â”‚       â””â”€â”€ WEB-INF/
â”‚   â””â”€â”€ test/                        # Test files
â”œâ”€â”€ database_schema.sql              # Database schema
â”œâ”€â”€ pom.xml                          # Maven configuration
â”œâ”€â”€ Dockerfile                       # Docker configuration
â”œâ”€â”€ docker-compose.yml               # Docker Compose
â”œâ”€â”€ nginx.conf                       # Nginx configuration
â”œâ”€â”€ deploy.bat                       # Deployment script
â””â”€â”€ README.md                        # Project documentation
```

## ğŸš€ HÆ°á»›ng Dáº«n CÃ i Äáº·t

### YÃªu Cáº§u Há»‡ Thá»‘ng
- Java 17 hoáº·c cao hÆ¡n
- Maven 3.6+
- Microsoft SQL Server 2019+
- Tomcat 10+ (cho deployment thá»§ cÃ´ng)
- Docker & Docker Compose (cho deployment containerized)

### CÃ¡ch 1: Cháº¡y Thá»§ CÃ´ng

#### 1. CÃ i Äáº·t Database
```sql
-- Cháº¡y script database_schema.sql trong SQL Server
-- Hoáº·c sá»­ dá»¥ng SQL Server Management Studio
```

#### 2. Cáº¥u HÃ¬nh Database
Chá»‰nh sá»­a file `src/main/webapp/META-INF/context.xml`:
```xml
<Resource name="jdbc/ebookwebsite" 
          auth="Container" 
          type="javax.sql.DataSource"
          username="your_username" 
          password="your_password"
          driverClassName="com.microsoft.sqlserver.jdbc.SQLServerDriver"
          url="jdbc:sqlserver://localhost:1433;databaseName=EbookWebsite;encrypt=true;trustServerCertificate=true"
          maxTotal="20" 
          maxIdle="10"
          maxWaitMillis="-1"/>
```

#### 3. Build vÃ  Deploy
```bash
# Build project
mvn clean package

# Copy WAR file to Tomcat
cp target/EbookWebsite-1.0-SNAPSHOT.war $TOMCAT_HOME/webapps/

# Start Tomcat
$TOMCAT_HOME/bin/startup.sh
```

### CÃ¡ch 2: Sá»­ Dá»¥ng Docker (Khuyáº¿n Nghá»‹)

#### 1. Clone Repository
```bash
git clone <repository-url>
cd EbookWebsite
```

#### 2. Cháº¡y vá»›i Docker Compose
```bash
# Build vÃ  cháº¡y toÃ n bá»™ há»‡ thá»‘ng
docker-compose up -d

# Xem logs
docker-compose logs -f

# Dá»«ng há»‡ thá»‘ng
docker-compose down
```

#### 3. Truy Cáº­p á»¨ng Dá»¥ng
- Website: http://localhost:8080
- Admin Dashboard: http://localhost:8080/admin/dashboard.jsp

## ğŸ” TÃ i Khoáº£n Máº·c Äá»‹nh

### Admin Account
- **Username:** admin
- **Password:** admin

### Test User Account
- **Username:** user
- **Password:** user

## ğŸ“Š Database Schema

### Báº£ng ChÃ­nh
- **Users** - ThÃ´ng tin ngÆ°á»i dÃ¹ng
- **Ebooks** - ThÃ´ng tin truyá»‡n
- **Volumes** - Táº­p truyá»‡n
- **Chapters** - ChÆ°Æ¡ng truyá»‡n
- **Authors** - TÃ¡c giáº£
- **Tags** - Tháº» phÃ¢n loáº¡i
- **Comments** - BÃ¬nh luáº­n
- **Favorites** - YÃªu thÃ­ch
- **Orders** - ÄÆ¡n hÃ ng
- **UserReads** - Tiáº¿n Ä‘á»™ Ä‘á»c

### Quan Há»‡
- Má»™t truyá»‡n cÃ³ nhiá»u Volume
- Má»™t Volume cÃ³ nhiá»u Chapter
- Má»™t truyá»‡n cÃ³ nhiá»u Author (Many-to-Many)
- Má»™t truyá»‡n cÃ³ nhiá»u Tag (Many-to-Many)
- Má»™t user cÃ³ thá»ƒ yÃªu thÃ­ch nhiá»u truyá»‡n
- Má»™t user cÃ³ thá»ƒ bÃ¬nh luáº­n nhiá»u truyá»‡n

## ğŸ”§ Cáº¥u HÃ¬nh NÃ¢ng Cao

### Environment Variables
```bash
# Database
DB_HOST=localhost
DB_PORT=1433
DB_NAME=EbookWebsite
DB_USER=sa
DB_PASSWORD=your_password

# Application
JAVA_OPTS=-Xmx512m -Xms256m
CATALINA_OPTS=-Djava.security.egd=file:/dev/./urandom
```

### SSL/HTTPS Configuration
1. Táº¡o SSL certificates
2. Cáº­p nháº­t `nginx.conf`
3. Uncomment HTTPS server block
4. Restart Nginx

### Load Balancing
ThÃªm nhiá»u application servers vÃ o upstream trong `nginx.conf`:
```nginx
upstream ebookwebsite {
    server app1:8080;
    server app2:8080;
    server app3:8080;
}
```

## ğŸ§ª Testing

### Unit Tests
```bash
mvn test
```

### Integration Tests
```bash
mvn verify
```

### Manual Testing
1. ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
2. ÄÄƒng nháº­p vÃ  test cÃ¡c chá»©c nÄƒng
3. Test admin dashboard
4. Test Ä‘á»c truyá»‡n vÃ  bÃ¬nh luáº­n

## ğŸ“ˆ Monitoring vÃ  Logging

### Application Logs
- Tomcat logs: `$TOMCAT_HOME/logs/`
- Application logs: `src/main/webapp/WEB-INF/logs/`

### Database Monitoring
```sql
-- Xem sá»‘ lÆ°á»£ng truyá»‡n
SELECT COUNT(*) FROM Ebooks WHERE status = 'active';

-- Xem user Ä‘Äƒng kÃ½ má»›i nháº¥t
SELECT TOP 10 * FROM Users ORDER BY created_at DESC;

-- Xem truyá»‡n Ä‘Æ°á»£c xem nhiá»u nháº¥t
SELECT TOP 10 title, view_count FROM Ebooks ORDER BY view_count DESC;
```

## ğŸš€ Deployment

### Production Deployment
1. **Database Setup**
   ```bash
   # Táº¡o production database
   CREATE DATABASE EbookWebsite_Prod;
   ```

2. **Application Deployment**
   ```bash
   # Build production WAR
   mvn clean package -Pprod
   
   # Deploy to production server
   scp target/EbookWebsite-1.0-SNAPSHOT.war user@server:/opt/tomcat/webapps/
   ```

3. **SSL Configuration**
   ```bash
   # Install SSL certificates
   sudo certbot --nginx -d yourdomain.com
   ```

### CI/CD Pipeline
```yaml
# .github/workflows/deploy.yml
name: Deploy to Production
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build with Maven
        run: mvn clean package
      - name: Deploy to Server
        run: |
          scp target/EbookWebsite-1.0-SNAPSHOT.war user@server:/opt/tomcat/webapps/
```

## ğŸ”’ Báº£o Máº­t

### Security Headers
- X-Frame-Options: SAMEORIGIN
- X-XSS-Protection: 1; mode=block
- X-Content-Type-Options: nosniff
- Content-Security-Policy: default-src 'self'

### Rate Limiting
- Login: 5 requests/minute
- API: 10 requests/second
- Admin: 20 requests/second

### SQL Injection Prevention
- Sá»­ dá»¥ng PreparedStatement
- Input validation vÃ  sanitization
- Parameterized queries

## ğŸ› Troubleshooting

### Lá»—i ThÆ°á»ng Gáº·p

#### 1. Database Connection Error
```
Error: Cannot connect to database
Solution: Kiá»ƒm tra connection string vÃ  credentials
```

#### 2. Tomcat Startup Error
```
Error: Port 8080 already in use
Solution: sudo netstat -tulpn | grep :8080
```

#### 3. Docker Container Issues
```bash
# Xem logs
docker-compose logs app

# Restart container
docker-compose restart app

# Rebuild image
docker-compose build --no-cache
```

### Performance Issues
1. **Database Optimization**
   ```sql
   -- Táº¡o indexes
   CREATE INDEX idx_ebooks_status ON Ebooks(status);
   CREATE INDEX idx_chapters_book_id ON Chapters(book_id);
   ```

2. **Caching**
   - Implement Redis caching
   - Use CDN for static assets
   - Enable browser caching

3. **Connection Pooling**
   - TÄƒng maxTotal trong context.xml
   - Monitor connection usage

## ğŸ“ API Documentation

### REST Endpoints
```
GET    /api/books              # Láº¥y danh sÃ¡ch truyá»‡n
GET    /api/books/{id}         # Láº¥y chi tiáº¿t truyá»‡n
POST   /api/books              # Táº¡o truyá»‡n má»›i
PUT    /api/books/{id}         # Cáº­p nháº­t truyá»‡n
DELETE /api/books/{id}         # XÃ³a truyá»‡n

GET    /api/chapters/{id}      # Láº¥y ná»™i dung chÆ°Æ¡ng
POST   /api/comments           # Táº¡o bÃ¬nh luáº­n
POST   /api/favorites          # ThÃªm yÃªu thÃ­ch
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ†˜ Support

- **Email:** support@ebookwebsite.com
- **Documentation:** [Wiki](https://github.com/your-repo/wiki)
- **Issues:** [GitHub Issues](https://github.com/your-repo/issues)

## ğŸ—ºï¸ Roadmap

### Version 2.0 (Q2 2024)
- [ ] Mobile app (React Native)
- [ ] Advanced search filters
- [ ] Reading progress sync
- [ ] Social features (following, sharing)
- [ ] Payment gateway integration

### Version 3.0 (Q3 2024)
- [ ] AI-powered recommendations
- [ ] Multi-language support
- [ ] Advanced analytics
- [ ] Content moderation tools
- [ ] API for third-party integrations

---

**â­ Náº¿u dá»± Ã¡n nÃ y há»¯u Ã­ch, hÃ£y cho chÃºng tÃ´i má»™t star!** 